{"ast":null,"code":"import { io } from 'socket.io-client'; // Importa io correttamente\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ChatComponent_div_3_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r4 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", msg_r4, \" \");\n  }\n}\nfunction ChatComponent_div_3_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtext(1, \"Server is typing...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ChatComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 5);\n    i0.ɵɵelementStart(3, \"span\", 6);\n    i0.ɵɵtext(4, \"Piombobot\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 7);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.closeChat());\n    });\n    i0.ɵɵtext(6, \"X\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"div\", 8)(8, \"div\", 9);\n    i0.ɵɵtemplate(9, ChatComponent_div_3_div_9_Template, 2, 1, \"div\", 10);\n    i0.ɵɵtemplate(10, ChatComponent_div_3_div_10_Template, 2, 0, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"textarea\", 12, 13);\n    i0.ɵɵlistener(\"input\", function ChatComponent_div_3_Template_textarea_input_11_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const _r3 = i0.ɵɵreference(12);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.adjustHeight(_r3));\n    })(\"keydown\", function ChatComponent_div_3_Template_textarea_keydown_11_listener($event) {\n      i0.ɵɵrestoreView(_r6);\n      const _r3 = i0.ɵɵreference(12);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.onKeydown($event, _r3));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function ChatComponent_div_3_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const _r3 = i0.ɵɵreference(12);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.sendMessage(_r3));\n    });\n    i0.ɵɵtext(14, \"Send\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(9);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.messages);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isTyping);\n  }\n}\nexport class ChatComponent {\n  constructor() {\n    this.message = '';\n    this.messages = [];\n    this.chatOpen = false;\n    this.isTyping = false; // Variabili per gestire lo stato di \"scrittura\" del server\n  }\n\n  ngOnInit() {\n    // Connessione al server Flask con Socket.IO (usa HTTPS)\n    this.socket = io('https://orange-halibut-5ggq6qx6g6gj277rv-5000.app.github.dev'); // Cambia l'URL se necessario\n    // Ascolta i messaggi ricevuti dal server (chatbot)\n    this.socket.on('message', msg => {\n      this.messages.push(`Piombobot: ${msg}`);\n      this.isTyping = false; // Nascondi l'indicatore di scrittura\n    });\n  }\n\n  sendMessage(message) {\n    this.message = message.value;\n    if (this.message.trim()) {\n      // Aggiungi il messaggio dell'utente alla chat\n      this.messages.push(`Tu: ${this.message}`);\n      message.value = ''; // Pulisce la casella di testo\n      // Indica che il server sta scrivendo\n      this.isTyping = true;\n      // Invia il messaggio al server tramite Socket.IO\n      this.socket.emit('message', this.message);\n    }\n  }\n  // Metodo per aprire il popup della chat\n  openChat() {\n    this.chatOpen = true;\n  }\n  // Metodo per chiudere il popup della chat\n  closeChat() {\n    this.chatOpen = false;\n  }\n  // Metodo per gestire la pressione di un tasto (Enter)\n  onKeydown(event, message) {\n    if (event.key === 'Enter') {\n      this.sendMessage(message);\n    }\n  }\n  // Metodo per gestire l'altezza dinamica del campo di input\n  adjustHeight(input) {\n    input.style.height = 'auto'; // Reset height to auto first\n    input.style.height = `${input.scrollHeight}px`; // Set height based on content scrollHeight\n  }\n\n  static {\n    this.ɵfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)();\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      decls: 4,\n      vars: 1,\n      consts: [[1, \"page-container\"], [1, \"open-chat-btn\", 3, \"click\"], [\"class\", \"chat-popup\", 4, \"ngIf\"], [1, \"chat-popup\"], [1, \"chat-header\"], [\"src\", \"https://upload.wikimedia.org/wikipedia/commons/e/ed/Aldo_Moro_portrait.jpg\", \"alt\", \"Aldo Moro\", 1, \"chat-avatar\"], [1, \"chat-name\"], [1, \"close-chat-btn\", 3, \"click\"], [1, \"chat-body\"], [1, \"messages\"], [\"class\", \"message\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"server-typing\", 4, \"ngIf\"], [\"placeholder\", \"Type a message...\", 3, \"input\", \"keydown\"], [\"message\", \"\"], [3, \"click\"], [1, \"message\"], [1, \"server-typing\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"button\", 1);\n          i0.ɵɵlistener(\"click\", function ChatComponent_Template_button_click_1_listener() {\n            return ctx.openChat();\n          });\n          i0.ɵɵtext(2, \"\\uD83D\\uDCAC\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(3, ChatComponent_div_3_Template, 15, 2, \"div\", 2);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngIf\", ctx.chatOpen);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 0;\\n  box-sizing: border-box;\\n}\\n\\n\\n\\n.page-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  height: 100vh;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  background-color: #f1f1f1;\\n  font-family: 'Arial', sans-serif;\\n}\\n\\n\\n\\n.open-chat-btn[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 20px;\\n  background-color: #0e76a8;\\n  color: white;\\n  border: none;\\n  padding: 15px 20px;\\n  border-radius: 50%;\\n  font-size: 24px;\\n  cursor: pointer;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n  transition: transform 0.2s ease-in-out;\\n}\\n\\n.open-chat-btn[_ngcontent-%COMP%]:hover {\\n  transform: scale(1.1);\\n}\\n\\n\\n\\n.chat-popup[_ngcontent-%COMP%] {\\n  position: fixed;\\n  bottom: 20px;\\n  right: 20px;\\n  width: 320px;\\n  max-height: 450px;\\n  background-color: white;\\n  border-radius: 10px;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\\n  display: flex;\\n  flex-direction: column;\\n  overflow: hidden;\\n  z-index: 1000;\\n  max-width: 90%;\\n}\\n\\n\\n\\n.chat-header[_ngcontent-%COMP%] {\\n  background-color: #0e76a8;\\n  color: white;\\n  display: flex;\\n  align-items: center;\\n  padding: 10px;\\n  position: relative;\\n}\\n\\n.chat-avatar[_ngcontent-%COMP%] {\\n  width: 40px;\\n  height: 40px;\\n  border-radius: 50%;\\n  margin-right: 10px;\\n}\\n\\n.chat-name[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n.close-chat-btn[_ngcontent-%COMP%] {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  background-color: #ff4d4d;\\n  color: white;\\n  border: none;\\n  padding: 5px;\\n  border-radius: 50%;\\n  font-size: 18px;\\n  cursor: pointer;\\n  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n}\\n\\n.close-chat-btn[_ngcontent-%COMP%]:hover {\\n  background-color: #ff3333;\\n}\\n\\n\\n\\n.chat-body[_ngcontent-%COMP%] {\\n  flex-grow: 1;\\n  padding: 10px;\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: flex-end;\\n  overflow-y: auto;\\n}\\n\\n\\n\\n.messages[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 10px;\\n  max-height: 75%;\\n  overflow-y: auto;\\n}\\n\\n\\n\\n.message[_ngcontent-%COMP%] {\\n  max-width: 75%;\\n  padding: 10px 15px;\\n  border-radius: 20px;\\n  font-size: 16px;\\n  line-height: 1.4;\\n  word-wrap: break-word;\\n  background-color: #0e76a8;\\n  color: white;\\n  align-self: flex-end;\\n  white-space: pre-wrap; \\n\\n  animation: _ngcontent-%COMP%_slideIn 0.5s ease-in-out;\\n}\\n\\n@keyframes _ngcontent-%COMP%_slideIn {\\n  from {\\n    opacity: 0;\\n    transform: translateX(30px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateX(0);\\n  }\\n}\\n\\n\\n\\n.server-typing[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  padding: 5px 0;\\n  font-size: 16px;\\n  color: #0e76a8;\\n}\\n\\n.server-typing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  width: 8px;\\n  height: 8px;\\n  margin: 0 3px;\\n  border-radius: 50%;\\n  background-color: #0e76a8;\\n  animation: _ngcontent-%COMP%_blink 1s infinite;\\n}\\n\\n.server-typing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) {\\n  animation-delay: 0.2s;\\n}\\n\\n.server-typing[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3) {\\n  animation-delay: 0.4s;\\n}\\n\\n@keyframes _ngcontent-%COMP%_blink {\\n  0%, 100% {\\n    opacity: 0;\\n  }\\n  50% {\\n    opacity: 1;\\n  }\\n}\\n\\n\\n\\ninput[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 12px 15px;\\n  font-size: 16px;\\n  border-radius: 20px;\\n  border: 2px solid #ddd;\\n  outline: none;\\n  transition: all 0.3s ease;\\n  margin-top: 10px;\\n}\\n\\ninput[_ngcontent-%COMP%]:focus {\\n  border-color: #0e76a8;\\n  box-shadow: 0 0 5px rgba(14, 118, 168, 0.5);\\n}\\n\\n\\n\\nbutton[_ngcontent-%COMP%] {\\n  background-color: #0e76a8;\\n  color: white;\\n  border: none;\\n  padding: 12px 20px;\\n  font-size: 16px;\\n  font-weight: bold;\\n  border-radius: 30px;\\n  cursor: pointer;\\n  transition: all 0.3s ease;\\n  margin-top: 10px;\\n}\\n\\nbutton[_ngcontent-%COMP%]:hover {\\n  background-color: #0b5d7f;\\n  transform: scale(1.05);\\n}\\n\\nbutton[_ngcontent-%COMP%]:active {\\n  transform: scale(0.98);\\n}\\n\\n\\n\\n@media (max-width: 600px) {\\n  .chat-popup[_ngcontent-%COMP%] {\\n    width: 90%;\\n  }\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBQzNDO0VBQ0UsU0FBUztFQUNULFVBQVU7RUFDVixzQkFBc0I7QUFDeEI7O0FBRUEsbUJBQW1CO0FBQ25CO0VBQ0Usa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQix5QkFBeUI7RUFDekIsZ0NBQWdDO0FBQ2xDOztBQUVBLG1CQUFtQjtBQUNuQjtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osV0FBVztFQUNYLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGVBQWU7RUFDZix5Q0FBeUM7RUFDekMsc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBLGtCQUFrQjtBQUNsQjtFQUNFLGVBQWU7RUFDZixZQUFZO0VBQ1osV0FBVztFQUNYLFlBQVk7RUFDWixpQkFBaUI7RUFDakIsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQix5Q0FBeUM7RUFDekMsYUFBYTtFQUNiLHNCQUFzQjtFQUN0QixnQkFBZ0I7RUFDaEIsYUFBYTtFQUNiLGNBQWM7QUFDaEI7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLGFBQWE7RUFDYixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxlQUFlO0VBQ2YsaUJBQWlCO0FBQ25COztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFNBQVM7RUFDVCxXQUFXO0VBQ1gseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osWUFBWTtFQUNaLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsZUFBZTtFQUNmLHlDQUF5QztBQUMzQzs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQSxjQUFjO0FBQ2Q7RUFDRSxZQUFZO0VBQ1osYUFBYTtFQUNiLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQjs7QUFFQSxxQkFBcUI7QUFDckI7RUFDRSxhQUFhO0VBQ2Isc0JBQXNCO0VBQ3RCLFNBQVM7RUFDVCxlQUFlO0VBQ2YsZ0JBQWdCO0FBQ2xCOztBQUVBLCtCQUErQjtBQUMvQjtFQUNFLGNBQWM7RUFDZCxrQkFBa0I7RUFDbEIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLHlCQUF5QjtFQUN6QixZQUFZO0VBQ1osb0JBQW9CO0VBQ3BCLHFCQUFxQixFQUFFLCtCQUErQjtFQUN0RCxtQ0FBbUM7QUFDckM7O0FBRUE7RUFDRTtJQUNFLFVBQVU7SUFDViwyQkFBMkI7RUFDN0I7RUFDQTtJQUNFLFVBQVU7SUFDVix3QkFBd0I7RUFDMUI7QUFDRjs7QUFFQSxxQkFBcUI7QUFDckI7RUFDRSxhQUFhO0VBQ2IsdUJBQXVCO0VBQ3ZCLG1CQUFtQjtFQUNuQixjQUFjO0VBQ2QsZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxxQkFBcUI7RUFDckIsVUFBVTtFQUNWLFdBQVc7RUFDWCxhQUFhO0VBQ2Isa0JBQWtCO0VBQ2xCLHlCQUF5QjtFQUN6Qiw0QkFBNEI7QUFDOUI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRTtJQUNFLFVBQVU7RUFDWjtFQUNBO0lBQ0UsVUFBVTtFQUNaO0FBQ0Y7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UsV0FBVztFQUNYLGtCQUFrQjtFQUNsQixlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLHNCQUFzQjtFQUN0QixhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLHFCQUFxQjtFQUNyQiwyQ0FBMkM7QUFDN0M7O0FBRUEsZ0JBQWdCO0FBQ2hCO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsbUJBQW1CO0VBQ25CLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLHNCQUFzQjtBQUN4Qjs7QUFFQSwwQkFBMEI7QUFDMUI7RUFDRTtJQUNFLFVBQVU7RUFDWjtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLyogR2VuZXJhbCByZXNldCBmb3IgbWFyZ2lucyBhbmQgcGFkZGluZ3MgKi9cbioge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG59XG5cbi8qIFBhZ2UgY29udGFpbmVyICovXG4ucGFnZS1jb250YWluZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGhlaWdodDogMTAwdmg7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xuICBmb250LWZhbWlseTogJ0FyaWFsJywgc2Fucy1zZXJpZjtcbn1cblxuLyogQ2hhdGJvdCBidXR0b24gKi9cbi5vcGVuLWNoYXQtYnRuIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDIwcHg7XG4gIHJpZ2h0OiAyMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU3NmE4O1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbiAgcGFkZGluZzogMTVweCAyMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGZvbnQtc2l6ZTogMjRweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICBib3gtc2hhZG93OiAwIDRweCAxMHB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMnMgZWFzZS1pbi1vdXQ7XG59XG5cbi5vcGVuLWNoYXQtYnRuOmhvdmVyIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xufVxuXG4vKiBDaGF0Ym90IFBvcHVwICovXG4uY2hhdC1wb3B1cCB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAyMHB4O1xuICByaWdodDogMjBweDtcbiAgd2lkdGg6IDMyMHB4O1xuICBtYXgtaGVpZ2h0OiA0NTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjIpO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB6LWluZGV4OiAxMDAwO1xuICBtYXgtd2lkdGg6IDkwJTtcbn1cblxuLyogQ2hhdCBoZWFkZXIgKi9cbi5jaGF0LWhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwZTc2YTg7XG4gIGNvbG9yOiB3aGl0ZTtcbiAgZGlzcGxheTogZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogMTBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uY2hhdC1hdmF0YXIge1xuICB3aWR0aDogNDBweDtcbiAgaGVpZ2h0OiA0MHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIG1hcmdpbi1yaWdodDogMTBweDtcbn1cblxuLmNoYXQtbmFtZSB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5jbG9zZS1jaGF0LWJ0biB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAxMHB4O1xuICByaWdodDogMTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNGQ0ZDtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDVweDtcbiAgYm9yZGVyLXJhZGl1czogNTAlO1xuICBmb250LXNpemU6IDE4cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG59XG5cbi5jbG9zZS1jaGF0LWJ0bjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZjMzMzM7XG59XG5cbi8qIENoYXQgYm9keSAqL1xuLmNoYXQtYm9keSB7XG4gIGZsZXgtZ3JvdzogMTtcbiAgcGFkZGluZzogMTBweDtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgb3ZlcmZsb3cteTogYXV0bztcbn1cblxuLyogTWVzc2FnZXMgc2VjdGlvbiAqL1xuLm1lc3NhZ2VzIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgZ2FwOiAxMHB4O1xuICBtYXgtaGVpZ2h0OiA3NSU7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi8qIEluZGl2aWR1YWwgbWVzc2FnZSBzdHlsaW5nICovXG4ubWVzc2FnZSB7XG4gIG1heC13aWR0aDogNzUlO1xuICBwYWRkaW5nOiAxMHB4IDE1cHg7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDEuNDtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU3NmE4O1xuICBjb2xvcjogd2hpdGU7XG4gIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7IC8qIEFsbG93cyB0ZXh0IHRvIGJyZWFrIGxpbmVzICovXG4gIGFuaW1hdGlvbjogc2xpZGVJbiAwLjVzIGVhc2UtaW4tb3V0O1xufVxuXG5Aa2V5ZnJhbWVzIHNsaWRlSW4ge1xuICBmcm9tIHtcbiAgICBvcGFjaXR5OiAwO1xuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMHB4KTtcbiAgfVxuICB0byB7XG4gICAgb3BhY2l0eTogMTtcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7XG4gIH1cbn1cblxuLyogVHlwaW5nIGluZGljYXRvciAqL1xuLnNlcnZlci10eXBpbmcge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgcGFkZGluZzogNXB4IDA7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6ICMwZTc2YTg7XG59XG5cbi5zZXJ2ZXItdHlwaW5nIHNwYW4ge1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gIHdpZHRoOiA4cHg7XG4gIGhlaWdodDogOHB4O1xuICBtYXJnaW46IDAgM3B4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwZTc2YTg7XG4gIGFuaW1hdGlvbjogYmxpbmsgMXMgaW5maW5pdGU7XG59XG5cbi5zZXJ2ZXItdHlwaW5nIHNwYW46bnRoLWNoaWxkKDIpIHtcbiAgYW5pbWF0aW9uLWRlbGF5OiAwLjJzO1xufVxuXG4uc2VydmVyLXR5cGluZyBzcGFuOm50aC1jaGlsZCgzKSB7XG4gIGFuaW1hdGlvbi1kZWxheTogMC40cztcbn1cblxuQGtleWZyYW1lcyBibGluayB7XG4gIDAlLCAxMDAlIHtcbiAgICBvcGFjaXR5OiAwO1xuICB9XG4gIDUwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxufVxuXG4vKiBJbnB1dCBmaWVsZCAqL1xuaW5wdXQge1xuICB3aWR0aDogMTAwJTtcbiAgcGFkZGluZzogMTJweCAxNXB4O1xuICBmb250LXNpemU6IDE2cHg7XG4gIGJvcmRlci1yYWRpdXM6IDIwcHg7XG4gIGJvcmRlcjogMnB4IHNvbGlkICNkZGQ7XG4gIG91dGxpbmU6IG5vbmU7XG4gIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIG1hcmdpbi10b3A6IDEwcHg7XG59XG5cbmlucHV0OmZvY3VzIHtcbiAgYm9yZGVyLWNvbG9yOiAjMGU3NmE4O1xuICBib3gtc2hhZG93OiAwIDAgNXB4IHJnYmEoMTQsIDExOCwgMTY4LCAwLjUpO1xufVxuXG4vKiBTZW5kIGJ1dHRvbiAqL1xuYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBlNzZhODtcbiAgY29sb3I6IHdoaXRlO1xuICBib3JkZXI6IG5vbmU7XG4gIHBhZGRpbmc6IDEycHggMjBweDtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgYm9yZGVyLXJhZGl1czogMzBweDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG5idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGI1ZDdmO1xuICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xufVxuXG5idXR0b246YWN0aXZlIHtcbiAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbn1cblxuLyogUmVzcG9uc2l2ZSBmb3IgbW9iaWxlICovXG5AbWVkaWEgKG1heC13aWR0aDogNjAwcHgpIHtcbiAgLmNoYXQtcG9wdXAge1xuICAgIHdpZHRoOiA5MCU7XG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["io","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","msg_r4","ɵɵelement","ɵɵlistener","ChatComponent_div_3_Template_button_click_5_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","closeChat","ɵɵtemplate","ChatComponent_div_3_div_9_Template","ChatComponent_div_3_div_10_Template","ChatComponent_div_3_Template_textarea_input_11_listener","_r3","ɵɵreference","ctx_r7","adjustHeight","ChatComponent_div_3_Template_textarea_keydown_11_listener","$event","ctx_r8","onKeydown","ChatComponent_div_3_Template_button_click_13_listener","ctx_r9","sendMessage","ɵɵproperty","ctx_r0","messages","isTyping","ChatComponent","constructor","message","chatOpen","ngOnInit","socket","on","msg","push","value","trim","emit","openChat","event","key","input","style","height","scrollHeight","selectors","decls","vars","consts","template","ChatComponent_Template","rf","ctx","ChatComponent_Template_button_click_1_listener","ChatComponent_div_3_Template"],"sources":["/app/src/app/chat/chat.component.ts","/app/src/app/chat/chat.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { io } from 'socket.io-client';  // Importa io correttamente\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n  socket: any;\n  message: string = '';\n  messages: string[] = [];\n  chatOpen: boolean = false;\n  isTyping: boolean = false;  // Variabili per gestire lo stato di \"scrittura\" del server\n\n  ngOnInit() {\n    // Connessione al server Flask con Socket.IO (usa HTTPS)\n    this.socket = io('https://orange-halibut-5ggq6qx6g6gj277rv-5000.app.github.dev');  // Cambia l'URL se necessario\n\n    // Ascolta i messaggi ricevuti dal server (chatbot)\n    this.socket.on('message', (msg: string) => {\n      this.messages.push(`Piombobot: ${msg}`);\n      this.isTyping = false;  // Nascondi l'indicatore di scrittura\n    });\n  }\n\n  sendMessage(message: HTMLTextAreaElement) {\n    this.message = message.value;\n    if (this.message.trim()) {\n      // Aggiungi il messaggio dell'utente alla chat\n      this.messages.push(`Tu: ${this.message}`);\n      message.value = '';  // Pulisce la casella di testo\n\n      // Indica che il server sta scrivendo\n      this.isTyping = true;\n\n      // Invia il messaggio al server tramite Socket.IO\n      this.socket.emit('message', this.message);\n    }\n  }\n\n  // Metodo per aprire il popup della chat\n  openChat(): void {\n    this.chatOpen = true;\n  }\n\n  // Metodo per chiudere il popup della chat\n  closeChat(): void {\n    this.chatOpen = false;\n  }\n\n  // Metodo per gestire la pressione di un tasto (Enter)\n  onKeydown(event: KeyboardEvent, message: HTMLTextAreaElement): void {\n    if (event.key === 'Enter') {\n      this.sendMessage(message);\n    }\n  }\n\n  // Metodo per gestire l'altezza dinamica del campo di input\n  adjustHeight(input: HTMLTextAreaElement) {\n    input.style.height = 'auto';  // Reset height to auto first\n    input.style.height = `${input.scrollHeight}px`;  // Set height based on content scrollHeight\n  }\n}\n","<div class=\"page-container\">\n  <!-- Chatbot Button -->\n  <button class=\"open-chat-btn\" (click)=\"openChat()\">💬</button>\n  \n  <!-- Chatbot Popup -->\n  <div *ngIf=\"chatOpen\" class=\"chat-popup\">\n    <div class=\"chat-header\">\n      <img src=\"https://upload.wikimedia.org/wikipedia/commons/e/ed/Aldo_Moro_portrait.jpg\" alt=\"Aldo Moro\" class=\"chat-avatar\" />\n      <span class=\"chat-name\">Piombobot</span>\n      <button class=\"close-chat-btn\" (click)=\"closeChat()\">X</button>\n    </div>\n    <div class=\"chat-body\">\n      <div class=\"messages\">\n        <div *ngFor=\"let msg of messages\" class=\"message\">\n          {{ msg }}\n        </div>\n        <!-- Typing indicator -->\n        <div *ngIf=\"isTyping\" class=\"server-typing\">Server is typing...</div>\n      </div>\n      <textarea placeholder=\"Type a message...\" #message (input)=\"adjustHeight(message)\" (keydown)=\"onKeydown($event, message)\"></textarea>\n      <button (click)=\"sendMessage(message)\">Send</button>\n    </div>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}