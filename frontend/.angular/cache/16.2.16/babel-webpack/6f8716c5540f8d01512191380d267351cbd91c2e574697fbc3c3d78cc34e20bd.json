{"ast":null,"code":"import { io } from 'socket.io-client'; // Importa io correttamente\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nfunction ChatComponent_div_5_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\");\n    i0.ÉµÉµtext(1);\n    i0.ÉµÉµelementEnd();\n  }\n  if (rf & 2) {\n    const msg_r4 = ctx.$implicit;\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµtextInterpolate(msg_r4);\n  }\n}\nfunction ChatComponent_div_5_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ÉµÉµelementStart(0, \"div\", 13);\n    i0.ÉµÉµtext(1, \"Server sta scrivendo...\");\n    i0.ÉµÉµelementEnd();\n  }\n}\nfunction ChatComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ÉµÉµgetCurrentView();\n    i0.ÉµÉµelementStart(0, \"div\", 4)(1, \"div\", 5)(2, \"div\", 6);\n    i0.ÉµÉµtemplate(3, ChatComponent_div_5_div_3_Template, 2, 1, \"div\", 7);\n    i0.ÉµÉµtemplate(4, ChatComponent_div_5_div_4_Template, 2, 0, \"div\", 8);\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(5, \"input\", 9, 10);\n    i0.ÉµÉµlistener(\"keydown\", function ChatComponent_div_5_Template_input_keydown_5_listener($event) {\n      i0.ÉµÉµrestoreView(_r6);\n      const _r3 = i0.ÉµÉµreference(6);\n      const ctx_r5 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r5.onKeydown($event, _r3));\n    });\n    i0.ÉµÉµelementEnd();\n    i0.ÉµÉµelementStart(7, \"button\", 11);\n    i0.ÉµÉµlistener(\"click\", function ChatComponent_div_5_Template_button_click_7_listener() {\n      i0.ÉµÉµrestoreView(_r6);\n      const _r3 = i0.ÉµÉµreference(6);\n      const ctx_r7 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r7.sendMessage(_r3));\n    });\n    i0.ÉµÉµtext(8, \"Invia\");\n    i0.ÉµÉµelementEnd()();\n    i0.ÉµÉµelementStart(9, \"button\", 12);\n    i0.ÉµÉµlistener(\"click\", function ChatComponent_div_5_Template_button_click_9_listener() {\n      i0.ÉµÉµrestoreView(_r6);\n      const ctx_r8 = i0.ÉµÉµnextContext();\n      return i0.ÉµÉµresetView(ctx_r8.closeChat());\n    });\n    i0.ÉµÉµtext(10, \"X\");\n    i0.ÉµÉµelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ÉµÉµnextContext();\n    i0.ÉµÉµadvance(3);\n    i0.ÉµÉµproperty(\"ngForOf\", ctx_r0.messages);\n    i0.ÉµÉµadvance(1);\n    i0.ÉµÉµproperty(\"ngIf\", ctx_r0.isTyping);\n  }\n}\nexport class ChatComponent {\n  constructor() {\n    this.message = '';\n    this.messages = [];\n    this.chatOpen = false;\n    this.isTyping = false; // Variabile per gestire lo stato di \"scrittura\" del server\n  }\n\n  ngOnInit() {\n    // Connessione al server Flask con Socket.IO (usa HTTPS)\n    this.socket = io('https://orange-halibut-5ggq6qx6g6gj277rv-5000.app.github.dev'); // Cambia l'URL se necessario\n    // Ascolta i messaggi ricevuti dal server (chatbot)\n    this.socket.on('message', msg => {\n      this.messages.push(`Piombobot: ${msg}`);\n      this.isTyping = false; // Nascondi l'indicatore di scrittura\n    });\n  }\n\n  sendMessage(message) {\n    this.message = message.value;\n    if (this.message.trim()) {\n      // Aggiungi il messaggio dell'utente alla chat\n      this.messages.push(`Tu: ${this.message}`);\n      message.value = ''; // Pulisce la casella di testo\n      // Indica che il server sta scrivendo\n      this.isTyping = true;\n      // Invia il messaggio al server tramite Socket.IO\n      this.socket.emit('message', this.message);\n    }\n  }\n  // Metodo per aprire il popup della chat\n  openChat() {\n    this.chatOpen = true;\n  }\n  // Metodo per chiudere il popup della chat\n  closeChat() {\n    this.chatOpen = false;\n  }\n  // Metodo per gestire la pressione di un tasto (Enter)\n  onKeydown(event, message) {\n    if (event.key === 'Enter') {\n      this.sendMessage(message);\n    }\n  }\n  static {\n    this.Éµfac = function ChatComponent_Factory(t) {\n      return new (t || ChatComponent)();\n    };\n  }\n  static {\n    this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: ChatComponent,\n      selectors: [[\"app-chat\"]],\n      decls: 6,\n      vars: 1,\n      consts: [[1, \"page-container\"], [1, \"page-title\"], [1, \"open-chat-btn\", 3, \"click\"], [\"class\", \"chat-popup\", 4, \"ngIf\"], [1, \"chat-popup\"], [1, \"chat-container\"], [1, \"messages\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"server-typing\", 4, \"ngIf\"], [\"placeholder\", \"Scrivi un messaggio...\", 3, \"keydown\"], [\"message\", \"\"], [3, \"click\"], [1, \"close-chat-btn\", 3, \"click\"], [1, \"server-typing\"]],\n      template: function ChatComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµelementStart(0, \"div\", 0)(1, \"h1\", 1);\n          i0.ÉµÉµtext(2, \"ANNI DI PIOMBO\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµelementStart(3, \"button\", 2);\n          i0.ÉµÉµlistener(\"click\", function ChatComponent_Template_button_click_3_listener() {\n            return ctx.openChat();\n          });\n          i0.ÉµÉµtext(4, \"\\uD83D\\uDCAC Chat\");\n          i0.ÉµÉµelementEnd();\n          i0.ÉµÉµtemplate(5, ChatComponent_div_5_Template, 11, 2, \"div\", 3);\n          i0.ÉµÉµelementEnd();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(5);\n          i0.ÉµÉµproperty(\"ngIf\", ctx.chatOpen);\n        }\n      },\n      dependencies: [i1.NgForOf, i1.NgIf],\n      styles: [\"\\n\\n*[_ngcontent-%COMP%] {\\n    margin: 0;\\n    padding: 0;\\n    box-sizing: border-box;\\n  }\\n  \\n  \\n\\n  .page-container[_ngcontent-%COMP%] {\\n    text-align: center;\\n    height: 100vh;\\n    display: flex;\\n    flex-direction: column;\\n    justify-content: center;\\n    align-items: center;\\n    background-color: #f1f1f1;\\n  }\\n  \\n  \\n\\n  .page-title[_ngcontent-%COMP%] {\\n    font-size: 36px;\\n    font-weight: bold;\\n    margin-bottom: 20px;\\n    color: #0e76a8;\\n  }\\n  \\n  \\n\\n  .open-chat-btn[_ngcontent-%COMP%] {\\n    position: fixed;\\n    bottom: 20px;\\n    right: 20px;\\n    background-color: #0e76a8;\\n    color: white;\\n    border: none;\\n    padding: 15px 20px;\\n    border-radius: 50%;\\n    font-size: 24px;\\n    cursor: pointer;\\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n    transition: transform 0.2s ease-in-out;\\n  }\\n  \\n  .open-chat-btn[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.1);\\n  }\\n  \\n  \\n\\n  .chat-popup[_ngcontent-%COMP%] {\\n    position: fixed;\\n    bottom: 20px;\\n    right: 20px;\\n    width: 350px;\\n    height: 400px;\\n    background-color: #fff;\\n    border-radius: 15px;\\n    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);\\n    padding: 15px;\\n    display: flex;\\n    flex-direction: column;\\n    z-index: 1000;\\n  }\\n  \\n  \\n\\n  .chat-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    flex-grow: 1;\\n  }\\n  \\n  \\n\\n  .messages[_ngcontent-%COMP%] {\\n    flex: 1;\\n    overflow-y: auto;\\n    padding-right: 10px;\\n    margin-bottom: 15px;\\n  }\\n  \\n  \\n\\n  .messages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\\n    max-width: 75%;\\n    padding: 12px 16px;\\n    border-radius: 20px;\\n    font-family: 'Roboto', sans-serif;\\n    font-size: 16px;\\n    line-height: 1.4;\\n    word-wrap: break-word;\\n    animation: _ngcontent-%COMP%_slideIn 0.5s ease-in-out;\\n  }\\n  \\n  \\n\\n  @keyframes _ngcontent-%COMP%_slideIn {\\n    from {\\n      opacity: 0;\\n      transform: translateX(30px);\\n    }\\n    to {\\n      opacity: 1;\\n      transform: translateX(0);\\n    }\\n  }\\n  \\n  \\n\\n  .messages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(odd) {\\n    align-self: flex-end;\\n    background-color: #0e76a8;\\n    color: white;\\n    border-top-left-radius: 20px;\\n    border-bottom-left-radius: 20px;\\n    border-top-right-radius: 5px;\\n  }\\n  \\n  \\n\\n  .messages[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(even) {\\n    align-self: flex-start;\\n    background-color: #f1f1f1;\\n    color: #333;\\n    border-top-right-radius: 20px;\\n    border-bottom-right-radius: 20px;\\n    border-top-left-radius: 5px;\\n  }\\n  \\n  \\n\\n  input[_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 12px 15px;\\n    margin-top: 10px;\\n    font-size: 16px;\\n    border-radius: 30px;\\n    border: 2px solid #ddd;\\n    outline: none;\\n    transition: all 0.3s ease;\\n    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  input[_ngcontent-%COMP%]:focus {\\n    border-color: #0e76a8;\\n    box-shadow: 0 0 5px rgba(14, 118, 168, 0.5);\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%] {\\n    background-color: #0e76a8;\\n    color: white;\\n    border: none;\\n    padding: 12px 20px;\\n    margin-top: 10px;\\n    font-size: 16px;\\n    font-weight: bold;\\n    border-radius: 30px;\\n    cursor: pointer;\\n    transition: all 0.3s ease;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0b5d7f;\\n  }\\n  \\n  button[_ngcontent-%COMP%]:active {\\n    transform: scale(0.98);\\n  }\\n  \\n  \\n\\n  .close-chat-btn[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 10px;\\n    right: 10px;\\n    background-color: #ff4d4d;\\n    color: white;\\n    border: none;\\n    padding: 10px;\\n    border-radius: 50%;\\n    font-size: 20px;\\n    cursor: pointer;\\n    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);\\n  }\\n  \\n  .close-chat-btn[_ngcontent-%COMP%]:hover {\\n    background-color: #ff3333;\\n  }\\n  \\n  \\n\\n  .typing-indicator[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    padding: 5px 0;\\n    font-size: 16px;\\n    color: #0e76a8;\\n    visibility: hidden;\\n  }\\n  \\n  .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n    display: inline-block;\\n    width: 8px;\\n    height: 8px;\\n    margin: 0 3px;\\n    border-radius: 50%;\\n    background-color: #0e76a8;\\n    animation: _ngcontent-%COMP%_blink 1s infinite;\\n  }\\n  \\n  .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2) {\\n    animation-delay: 0.2s;\\n  }\\n  \\n  .typing-indicator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3) {\\n    animation-delay: 0.4s;\\n  }\\n  \\n  \\n\\n  @keyframes _ngcontent-%COMP%_blink {\\n    0%, 100% {\\n      opacity: 0;\\n    }\\n    50% {\\n      opacity: 1;\\n    }\\n  }\\n  \\n  \\n\\n  .messages[_ngcontent-%COMP%] {\\n    scroll-behavior: smooth;\\n  }\\n  \\n  \\n\\n  input[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:focus {\\n    outline: none;\\n    border: 2px solid #0e76a8;\\n    box-shadow: 0 0 5px rgba(14, 118, 168, 0.5);\\n  }\\n  \\n  \\n\\n  input[_ngcontent-%COMP%]:hover {\\n    border-color: #0e76a8;\\n    box-shadow: 0 2px 8px rgba(14, 118, 168, 0.2);\\n  }\\n  \\n  \\n\\n  button[_ngcontent-%COMP%]:hover {\\n    background-color: #0b5d7f;\\n    transform: scale(1.05);\\n  }\\n  \\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY2hhdC9jaGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsMkNBQTJDO0FBQzNDO0lBQ0ksU0FBUztJQUNULFVBQVU7SUFDVixzQkFBc0I7RUFDeEI7O0VBRUEsOEJBQThCO0VBQzlCO0lBQ0Usa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYixhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIseUJBQXlCO0VBQzNCOztFQUVBLFVBQVU7RUFDVjtJQUNFLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsbUJBQW1CO0lBQ25CLGNBQWM7RUFDaEI7O0VBRUEsdUNBQXVDO0VBQ3ZDO0lBQ0UsZUFBZTtJQUNmLFlBQVk7SUFDWixXQUFXO0lBQ1gseUJBQXlCO0lBQ3pCLFlBQVk7SUFDWixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsZUFBZTtJQUNmLHlDQUF5QztJQUN6QyxzQ0FBc0M7RUFDeEM7O0VBRUE7SUFDRSxxQkFBcUI7RUFDdkI7O0VBRUEsa0JBQWtCO0VBQ2xCO0lBQ0UsZUFBZTtJQUNmLFlBQVk7SUFDWixXQUFXO0lBQ1gsWUFBWTtJQUNaLGFBQWE7SUFDYixzQkFBc0I7SUFDdEIsbUJBQW1CO0lBQ25CLHlDQUF5QztJQUN6QyxhQUFhO0lBQ2IsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixhQUFhO0VBQ2Y7O0VBRUEsb0NBQW9DO0VBQ3BDO0lBQ0UsYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixZQUFZO0VBQ2Q7O0VBRUEscUJBQXFCO0VBQ3JCO0lBQ0UsT0FBTztJQUNQLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIsbUJBQW1CO0VBQ3JCOztFQUVBLHNDQUFzQztFQUN0QztJQUNFLGNBQWM7SUFDZCxrQkFBa0I7SUFDbEIsbUJBQW1CO0lBQ25CLGlDQUFpQztJQUNqQyxlQUFlO0lBQ2YsZ0JBQWdCO0lBQ2hCLHFCQUFxQjtJQUNyQixtQ0FBbUM7RUFDckM7O0VBRUEsa0NBQWtDO0VBQ2xDO0lBQ0U7TUFDRSxVQUFVO01BQ1YsMkJBQTJCO0lBQzdCO0lBQ0E7TUFDRSxVQUFVO01BQ1Ysd0JBQXdCO0lBQzFCO0VBQ0Y7O0VBRUEsOENBQThDO0VBQzlDO0lBQ0Usb0JBQW9CO0lBQ3BCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osNEJBQTRCO0lBQzVCLCtCQUErQjtJQUMvQiw0QkFBNEI7RUFDOUI7O0VBRUEsOENBQThDO0VBQzlDO0lBQ0Usc0JBQXNCO0lBQ3RCLHlCQUF5QjtJQUN6QixXQUFXO0lBQ1gsNkJBQTZCO0lBQzdCLGdDQUFnQztJQUNoQywyQkFBMkI7RUFDN0I7O0VBRUEsZ0JBQWdCO0VBQ2hCO0lBQ0UsV0FBVztJQUNYLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixzQkFBc0I7SUFDdEIsYUFBYTtJQUNiLHlCQUF5QjtJQUN6Qix3Q0FBd0M7RUFDMUM7O0VBRUE7SUFDRSxxQkFBcUI7SUFDckIsMkNBQTJDO0VBQzdDOztFQUVBLGdCQUFnQjtFQUNoQjtJQUNFLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHlCQUF5QjtFQUMzQjs7RUFFQTtJQUNFLHNCQUFzQjtFQUN4Qjs7RUFFQSxvQ0FBb0M7RUFDcEM7SUFDRSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsWUFBWTtJQUNaLFlBQVk7SUFDWixhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixlQUFlO0lBQ2YseUNBQXlDO0VBQzNDOztFQUVBO0lBQ0UseUJBQXlCO0VBQzNCOztFQUVBLGtDQUFrQztFQUNsQztJQUNFLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGNBQWM7SUFDZCxlQUFlO0lBQ2YsY0FBYztJQUNkLGtCQUFrQjtFQUNwQjs7RUFFQTtJQUNFLHFCQUFxQjtJQUNyQixVQUFVO0lBQ1YsV0FBVztJQUNYLGFBQWE7SUFDYixrQkFBa0I7SUFDbEIseUJBQXlCO0lBQ3pCLDRCQUE0QjtFQUM5Qjs7RUFFQTtJQUNFLHFCQUFxQjtFQUN2Qjs7RUFFQTtJQUNFLHFCQUFxQjtFQUN2Qjs7RUFFQSw2Q0FBNkM7RUFDN0M7SUFDRTtNQUNFLFVBQVU7SUFDWjtJQUNBO01BQ0UsVUFBVTtJQUNaO0VBQ0Y7O0VBRUEsOENBQThDO0VBQzlDO0lBQ0UsdUJBQXVCO0VBQ3pCOztFQUVBLDRCQUE0QjtFQUM1Qjs7SUFFRSxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLDJDQUEyQztFQUM3Qzs7RUFFQSwwQkFBMEI7RUFDMUI7SUFDRSxxQkFBcUI7SUFDckIsNkNBQTZDO0VBQy9DOztFQUVBLHdCQUF3QjtFQUN4QjtJQUNFLHlCQUF5QjtJQUN6QixzQkFBc0I7RUFDeEIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBHZW5lcmFsIHJlc2V0IGZvciBtYXJnaW5zIGFuZCBwYWRkaW5ncyAqL1xuKiB7XG4gICAgbWFyZ2luOiAwO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgfVxuICBcbiAgLyogUGFnZSBjb250YWluZXIgd2l0aCB0aXRsZSAqL1xuICAucGFnZS1jb250YWluZXIge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmMWYxZjE7XG4gIH1cbiAgXG4gIC8qIFRpdGxlICovXG4gIC5wYWdlLXRpdGxlIHtcbiAgICBmb250LXNpemU6IDM2cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICBjb2xvcjogIzBlNzZhODtcbiAgfVxuICBcbiAgLyogQ2hhdGJvdCBidXR0b24gYXQgdGhlIGJvdHRvbSByaWdodCAqL1xuICAub3Blbi1jaGF0LWJ0biB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIGJvdHRvbTogMjBweDtcbiAgICByaWdodDogMjBweDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU3NmE4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogMTVweCAyMHB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBmb250LXNpemU6IDI0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJveC1zaGFkb3c6IDAgNHB4IDEwcHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjJzIGVhc2UtaW4tb3V0O1xuICB9XG4gIFxuICAub3Blbi1jaGF0LWJ0bjpob3ZlciB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgxLjEpO1xuICB9XG4gIFxuICAvKiBDaGF0Ym90IFBvcHVwICovXG4gIC5jaGF0LXBvcHVwIHtcbiAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgYm90dG9tOiAyMHB4O1xuICAgIHJpZ2h0OiAyMHB4O1xuICAgIHdpZHRoOiAzNTBweDtcbiAgICBoZWlnaHQ6IDQwMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7XG4gICAgYm9yZGVyLXJhZGl1czogMTVweDtcbiAgICBib3gtc2hhZG93OiAwIDRweCAxNXB4IHJnYmEoMCwgMCwgMCwgMC4yKTtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICB6LWluZGV4OiAxMDAwO1xuICB9XG4gIFxuICAvKiBDaGF0IGNvbnRhaW5lciBpbnNpZGUgdGhlIHBvcHVwICovXG4gIC5jaGF0LWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgIGZsZXgtZ3JvdzogMTtcbiAgfVxuICBcbiAgLyogTWVzc2FnZXMgc2VjdGlvbiAqL1xuICAubWVzc2FnZXMge1xuICAgIGZsZXg6IDE7XG4gICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICBwYWRkaW5nLXJpZ2h0OiAxMHB4O1xuICAgIG1hcmdpbi1ib3R0b206IDE1cHg7XG4gIH1cbiAgXG4gIC8qIEluZGl2aWR1YWwgbWVzc2FnZSBidWJibGUgc3R5bGluZyAqL1xuICAubWVzc2FnZXMgZGl2IHtcbiAgICBtYXgtd2lkdGg6IDc1JTtcbiAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG4gICAgYm9yZGVyLXJhZGl1czogMjBweDtcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICAgIGFuaW1hdGlvbjogc2xpZGVJbiAwLjVzIGVhc2UtaW4tb3V0O1xuICB9XG4gIFxuICAvKiBLZXlmcmFtZSBmb3Igc2xpZGluZyBtZXNzYWdlcyAqL1xuICBAa2V5ZnJhbWVzIHNsaWRlSW4ge1xuICAgIGZyb20ge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgzMHB4KTtcbiAgICB9XG4gICAgdG8ge1xuICAgICAgb3BhY2l0eTogMTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8qIEN1c3RvbSBtZXNzYWdlIGZvciB0aGUgdXNlciAoYWxpZ24gcmlnaHQpICovXG4gIC5tZXNzYWdlcyBkaXY6bnRoLWNoaWxkKG9kZCkge1xuICAgIGFsaWduLXNlbGY6IGZsZXgtZW5kO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICMwZTc2YTg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDIwcHg7XG4gICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMjBweDtcbiAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogNXB4O1xuICB9XG4gIFxuICAvKiBDdXN0b20gbWVzc2FnZSBmb3IgcmVjaXBpZW50IChhbGlnbiBsZWZ0KSAqL1xuICAubWVzc2FnZXMgZGl2Om50aC1jaGlsZChldmVuKSB7XG4gICAgYWxpZ24tc2VsZjogZmxleC1zdGFydDtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjFmMWYxO1xuICAgIGNvbG9yOiAjMzMzO1xuICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAyMHB4O1xuICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAyMHB4O1xuICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDVweDtcbiAgfVxuICBcbiAgLyogSW5wdXQgZmllbGQgKi9cbiAgaW5wdXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIHBhZGRpbmc6IDEycHggMTVweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICAgIGJvcmRlcjogMnB4IHNvbGlkICNkZGQ7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIGlucHV0OmZvY3VzIHtcbiAgICBib3JkZXItY29sb3I6ICMwZTc2YTg7XG4gICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDE0LCAxMTgsIDE2OCwgMC41KTtcbiAgfVxuICBcbiAgLyogU2VuZCBidXR0b24gKi9cbiAgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU3NmE4O1xuICAgIGNvbG9yOiB3aGl0ZTtcbiAgICBib3JkZXI6IG5vbmU7XG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xuICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGVhc2U7XG4gIH1cbiAgXG4gIGJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBiNWQ3ZjtcbiAgfVxuICBcbiAgYnV0dG9uOmFjdGl2ZSB7XG4gICAgdHJhbnNmb3JtOiBzY2FsZSgwLjk4KTtcbiAgfVxuICBcbiAgLyogQ2xvc2UgYnV0dG9uIGZvciB0aGUgY2hhdCBwb3B1cCAqL1xuICAuY2xvc2UtY2hhdC1idG4ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB0b3A6IDEwcHg7XG4gICAgcmlnaHQ6IDEwcHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmNGQ0ZDtcbiAgICBjb2xvcjogd2hpdGU7XG4gICAgYm9yZGVyOiBub25lO1xuICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIH1cbiAgXG4gIC5jbG9zZS1jaGF0LWJ0bjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmMzMzMztcbiAgfVxuICBcbiAgLyogVHlwaW5nIGFuaW1hdGlvbiBmb3IgdGhlIHVzZXIgKi9cbiAgLnR5cGluZy1pbmRpY2F0b3Ige1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICBwYWRkaW5nOiA1cHggMDtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6ICMwZTc2YTg7XG4gICAgdmlzaWJpbGl0eTogaGlkZGVuO1xuICB9XG4gIFxuICAudHlwaW5nLWluZGljYXRvciBzcGFuIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgd2lkdGg6IDhweDtcbiAgICBoZWlnaHQ6IDhweDtcbiAgICBtYXJnaW46IDAgM3B4O1xuICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMGU3NmE4O1xuICAgIGFuaW1hdGlvbjogYmxpbmsgMXMgaW5maW5pdGU7XG4gIH1cbiAgXG4gIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDIpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IDAuMnM7XG4gIH1cbiAgXG4gIC50eXBpbmctaW5kaWNhdG9yIHNwYW46bnRoLWNoaWxkKDMpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IDAuNHM7XG4gIH1cbiAgXG4gIC8qIEJsaW5rIGFuaW1hdGlvbiBmb3IgdGhlIHR5cGluZyBpbmRpY2F0b3IgKi9cbiAgQGtleWZyYW1lcyBibGluayB7XG4gICAgMCUsIDEwMCUge1xuICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG4gICAgNTAlIHtcbiAgICAgIG9wYWNpdHk6IDE7XG4gICAgfVxuICB9XG4gIFxuICAvKiBTbW9vdGggc2Nyb2xsIHdoZW4gY2hhdCBoaXN0b3J5IGdldHMgbG9uZyAqL1xuICAubWVzc2FnZXMge1xuICAgIHNjcm9sbC1iZWhhdmlvcjogc21vb3RoO1xuICB9XG4gIFxuICAvKiBGb2N1cyBzdHlsZXMgZm9yIGlucHV0cyAqL1xuICBpbnB1dDpmb2N1cyxcbiAgYnV0dG9uOmZvY3VzIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIGJvcmRlcjogMnB4IHNvbGlkICMwZTc2YTg7XG4gICAgYm94LXNoYWRvdzogMCAwIDVweCByZ2JhKDE0LCAxMTgsIDE2OCwgMC41KTtcbiAgfVxuICBcbiAgLyogSG92ZXIgZWZmZWN0IG9uIGlucHV0ICovXG4gIGlucHV0OmhvdmVyIHtcbiAgICBib3JkZXItY29sb3I6ICMwZTc2YTg7XG4gICAgYm94LXNoYWRvdzogMCAycHggOHB4IHJnYmEoMTQsIDExOCwgMTY4LCAwLjIpO1xuICB9XG4gIFxuICAvKiBCdXR0b24gaG92ZXIgZWZmZWN0ICovXG4gIGJ1dHRvbjpob3ZlciB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzBiNWQ3ZjtcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpO1xuICB9XG4gICJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n    });\n  }\n}","map":{"version":3,"names":["io","i0","ÉµÉµelementStart","ÉµÉµtext","ÉµÉµelementEnd","ÉµÉµadvance","ÉµÉµtextInterpolate","msg_r4","ÉµÉµtemplate","ChatComponent_div_5_div_3_Template","ChatComponent_div_5_div_4_Template","ÉµÉµlistener","ChatComponent_div_5_Template_input_keydown_5_listener","$event","ÉµÉµrestoreView","_r6","_r3","ÉµÉµreference","ctx_r5","ÉµÉµnextContext","ÉµÉµresetView","onKeydown","ChatComponent_div_5_Template_button_click_7_listener","ctx_r7","sendMessage","ChatComponent_div_5_Template_button_click_9_listener","ctx_r8","closeChat","ÉµÉµproperty","ctx_r0","messages","isTyping","ChatComponent","constructor","message","chatOpen","ngOnInit","socket","on","msg","push","value","trim","emit","openChat","event","key","selectors","decls","vars","consts","template","ChatComponent_Template","rf","ctx","ChatComponent_Template_button_click_3_listener","ChatComponent_div_5_Template"],"sources":["/workspaces/Chat_bot_Site/frontend/src/app/chat/chat.component.ts","/workspaces/Chat_bot_Site/frontend/src/app/chat/chat.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { io } from 'socket.io-client';  // Importa io correttamente\n\n@Component({\n  selector: 'app-chat',\n  templateUrl: './chat.component.html',\n  styleUrls: ['./chat.component.css']\n})\nexport class ChatComponent implements OnInit {\n  socket: any;\n  message: string = '';\n  messages: string[] = [];\n  chatOpen: boolean = false;\n  isTyping: boolean = false;  // Variabile per gestire lo stato di \"scrittura\" del server\n\n  ngOnInit() {\n    // Connessione al server Flask con Socket.IO (usa HTTPS)\n    this.socket = io('https://orange-halibut-5ggq6qx6g6gj277rv-5000.app.github.dev');  // Cambia l'URL se necessario\n\n    // Ascolta i messaggi ricevuti dal server (chatbot)\n    this.socket.on('message', (msg: string) => {\n      this.messages.push(`Piombobot: ${msg}`);\n      this.isTyping = false;  // Nascondi l'indicatore di scrittura\n    });\n  }\n\n  sendMessage(message: HTMLInputElement) {\n    this.message = message.value;\n    if (this.message.trim()) {\n      // Aggiungi il messaggio dell'utente alla chat\n      this.messages.push(`Tu: ${this.message}`);\n      message.value = '';  // Pulisce la casella di testo\n\n      // Indica che il server sta scrivendo\n      this.isTyping = true;\n\n      // Invia il messaggio al server tramite Socket.IO\n      this.socket.emit('message', this.message);\n    }\n  }\n\n  // Metodo per aprire il popup della chat\n  openChat(): void {\n    this.chatOpen = true;\n  }\n\n  // Metodo per chiudere il popup della chat\n  closeChat(): void {\n    this.chatOpen = false;\n  }\n\n  // Metodo per gestire la pressione di un tasto (Enter)\n  onKeydown(event: KeyboardEvent, message: HTMLInputElement): void {\n    if (event.key === 'Enter') {\n      this.sendMessage(message);\n    }\n  }\n}\n","<div class=\"page-container\">\n  <h1 class=\"page-title\">ANNI DI PIOMBO</h1>\n  \n  <!-- Chatbot Button -->\n  <button class=\"open-chat-btn\" (click)=\"openChat()\">ðŸ’¬ Chat</button>\n  \n  <!-- Chatbot Popup -->\n  <div *ngIf=\"chatOpen\" class=\"chat-popup\">\n    <div class=\"chat-container\">\n      <div class=\"messages\">\n        <div *ngFor=\"let msg of messages\">{{ msg }}</div>\n\n        <!-- Aggiungi un indicatore di caricamento mentre il server \"scrive\" -->\n        <div *ngIf=\"isTyping\" class=\"server-typing\">Server sta scrivendo...</div>\n      </div>\n      <input placeholder=\"Scrivi un messaggio...\" #message (keydown)=\"onKeydown($event, message)\" />\n      <button (click)=\"sendMessage(message)\">Invia</button>\n    </div>\n    <button class=\"close-chat-btn\" (click)=\"closeChat()\">X</button>\n  </div>\n</div>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}